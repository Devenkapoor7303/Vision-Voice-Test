{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rahul\\\\Downloads\\\\Open Source\\\\Vision-Voice-Test\\\\website\\\\frontend\\\\src\\\\MainRouter.js\";\nimport React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Navbar from \"./pages/Navbar\"; // import Footer from \"./pages/Footer\";\n\nimport Footer from \"./pages/Footer2\";\nimport Home from \"./pages/Home\";\nimport EyeTest from \"./pages/eye_test/Eye_test\";\nimport EyeTestStart from \"./pages/eye_test/eye_test_start\";\nimport AuralTest from \"./pages/aural_test/aural_test\";\nimport AuralSurvey from \"./pages/aural_test/auralSurvey\";\nimport AuralTestStart from \"./pages/aural_test/aural_test_start\";\nimport ScrollToTop from \"./pages/ScrollToTop\";\nimport EyeSurvey from \"./pages/eye_test/eyeSurvey\";\nimport Results from \"./pages/Results\";\nimport LoginReq from \"./pages/LoginReq\";\n\nclass MainRouter extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: {},\n      error: null,\n      authenticated: false\n    };\n\n    this._handleNotAuthenticated = () => {\n      this.setState({\n        authenticated: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:5000\", {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Credentials\": true\n      }\n    }).then(response => {\n      if (response.status === 200) {\n        console.log(response.session);\n        return response.session.user;\n      }\n    }).then(responseJson => {\n      this.setState({\n        authenticated: true,\n        user: responseJson.user\n      });\n    }).catch(error => {\n      this.setState({\n        authenticated: false,\n        error: \"Failed to authenticate user\"\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inner-root\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      authenticated: this.state.authenticated,\n      handleNotAuthenticated: this._handleNotAuthenticated,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Home,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/loginreq\",\n      component: LoginReq,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/eyetest\",\n      component: EyeTest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/auraltest\",\n      component: AuralTest,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/results\",\n      component: Results,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/auraltest/aural-survey\",\n      component: AuralSurvey,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/auraltest/aural_test_start\",\n      component: AuralTestStart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/eyetest/vision-test-start\",\n      component: EyeTestStart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/eyetest/vision-survey\",\n      component: EyeSurvey,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/auraltest/aural_test_start\",\n      component: AuralTestStart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(ScrollToTop, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default MainRouter;","map":{"version":3,"sources":["C:/Users/rahul/Downloads/Open Source/Vision-Voice-Test/website/frontend/src/MainRouter.js"],"names":["React","Route","Switch","Navbar","Footer","Home","EyeTest","EyeTestStart","AuralTest","AuralSurvey","AuralTestStart","ScrollToTop","EyeSurvey","Results","LoginReq","MainRouter","Component","state","user","error","authenticated","_handleNotAuthenticated","setState","componentDidMount","fetch","method","credentials","headers","then","response","status","console","log","session","responseJson","catch","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Navbar from \"./pages/Navbar\";\r\n// import Footer from \"./pages/Footer\";\r\nimport Footer from \"./pages/Footer2\";\r\nimport Home from \"./pages/Home\";\r\nimport EyeTest from \"./pages/eye_test/Eye_test\";\r\nimport EyeTestStart from \"./pages/eye_test/eye_test_start\";\r\nimport AuralTest from \"./pages/aural_test/aural_test\";\r\nimport AuralSurvey from \"./pages/aural_test/auralSurvey\";\r\nimport AuralTestStart from \"./pages/aural_test/aural_test_start\";\r\nimport ScrollToTop from \"./pages/ScrollToTop\";\r\nimport EyeSurvey from \"./pages/eye_test/eyeSurvey\";\r\nimport Results from \"./pages/Results\";\r\nimport LoginReq from \"./pages/LoginReq\";\r\n\r\nclass MainRouter extends React.Component {\r\n  state = {\r\n    user: {},\r\n    error: null,\r\n    authenticated: false,\r\n  };\r\n  componentDidMount() {\r\n    fetch(\"http://localhost:5000\", {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Access-Control-Allow-Credentials\": true,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          console.log(response.session);\r\n          return response.session.user;\r\n        }\r\n      })\r\n      .then((responseJson) => {\r\n        this.setState({\r\n          authenticated: true,\r\n          user: responseJson.user,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          authenticated: false,\r\n          error: \"Failed to authenticate user\",\r\n        });\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"inner-root\">\r\n        <Navbar\r\n          authenticated={this.state.authenticated}\r\n          handleNotAuthenticated={this._handleNotAuthenticated}\r\n        />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route exact path=\"/loginreq\" component={LoginReq} />\r\n          <Route exact path=\"/eyetest\" component={EyeTest} />\r\n          <Route exact path=\"/auraltest\" component={AuralTest} />\r\n          <Route exact path=\"/results\" component={Results} />\r\n          <Route exact path=\"/auraltest/aural-survey\" component={AuralSurvey} />\r\n          <Route\r\n            exact\r\n            path=\"/auraltest/aural_test_start\"\r\n            component={AuralTestStart}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/eyetest/vision-test-start\"\r\n            component={EyeTestStart}\r\n          />\r\n          <Route exact path=\"/eyetest/vision-survey\" component={EyeSurvey} />\r\n          <Route\r\n            exact\r\n            path=\"/auraltest/aural_test_start\"\r\n            component={AuralTestStart}\r\n          />\r\n        </Switch>\r\n        <ScrollToTop />\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  _handleNotAuthenticated = () => {\r\n    this.setState({ authenticated: false });\r\n  };\r\n}\r\n\r\nexport default MainRouter;\r\n"]},"metadata":{},"sourceType":"module"}